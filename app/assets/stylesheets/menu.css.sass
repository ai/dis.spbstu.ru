#menu
  height: $menu-height
  margin-bottom: 20px
  border-bottom: 1px solid darken($green, 7%)
  +round
  +shadow
  position: relative
  &, .full-name
    background: $green
    +background(linear-gradient(lighten($green, 3%), darken($green, 3%)))
  a.home, ul a
    display: block
    text-decoration: none
    color: black
    text-shadow: rgba(255, 255, 255, 0.4) 0 1px 2px
    outline: none
  a.home
    width: 185px
    height: 100%
    float: left
    border-right: 1px solid rgba(0, 0, 0, 0.15)
    position: relative
    +border-left-radius(2px)
    .logo, .magnified
      position: absolute
      +image-size("layout/logo.png")
      top: -10px
      left: 17px
      background: image-url("layout/logo.png")
      border-radius: image-width("layout/logo.png") / 2
      +box-shadow(rgba(0, 0, 0, 0.4) 0 1px 3px)
      +transition(all, 150ms)
      z-index: 2
    .magnified
      +image-size("layout/logo-magnified.png")
      top: -13px
      left: 14px
      background: image-url("layout/logo-magnified.png")
      border-radius: image-width("layout/logo-magnified.png") / 2
      z-index: 3
      opacity: 0
      +scale(0.933)
    .sup
      position: absolute
      left: 104px
      top: 6px
      font-size: 13px
      z-index: 2
    .sub
      position: absolute
      top: 17px
      left: 102px
      font-size: 30px
      z-index: 2
    &:hover
      .magnified
        opacity: 1
        +scale(1)
      .logo
        +scale(1.085)
  .center
    float: left
    position: relative
    overflow: hidden
  .full-name
    position: absolute
    top: 0
    left: -100%
    margin-left: 1px
    height: $menu-height
    z-index: 5
    width: 0
    overflow: hidden
    text-shadow: rgba(255, 255, 255, 0.4) 0 1px 2px
    text-align: center
    +transition(left, 300ms)
    &.show
      left: 0
    .department
      font-size: 18px
      margin-top: 5px
    .university
      margin-top: 5px
      font-size: 14px
  ul
    float: left
    border-right: 1px solid rgba(255, 255, 255, 0.15)
    a
      float: left
      +line-height($menu-height)
      font-size: 20px
      border-left: 1px solid rgba(255, 255, 255, 0.15)
      border-right: 1px solid rgba(0, 0, 0, 0.15)
      position: relative
      .text
        padding: 0 23px
        position: relative
        z-index: 2
    li
      float: left
  ul a, a.home
    .hover
      position: absolute
      left: 0
      top: 0
      width: 100%
      height: 100%
      z-index: 1
      background: yellow
      opacity: 0
      +transition(opacity, 150ms)
    &:hover
      .hover
        opacity: 0.12
    &:active
      +box-shadow(rgba(0, 0, 0, 0.3) 0 1px 5px 0 inset)
      border-left-color: rgba(0, 0, 0, 0.3)
      background: rgba(0, 0, 0, 0.05)
      .hover
        display: none

#menu .search
  +line-height($menu-height)
  line-height: 1
  position: relative
  form
    top: 14px
    left: 25px
    display: inline-block
    +line-height(22px)
    position: relative
    background: white
    +box-shadow(rgba(0, 0, 0, 0.3) 0 1px 2px 0 inset)
    +border-radius(11px)
  form:after
    font-size: 14px
    position: absolute
    right: -16px
    top: 0
  form.enter:after
    content: "↲"
  form.up:after
    content: "↑"
  input
    width: 135px
    +line-height(22px)
    border: none
    background: transparent
    +border-radius(1px)
    margin: 0 5px 0 20px
    +standard-font
    font-size: 14px
  .icon
    +image-size("layout/search.png")
    background: image-url("layout/search.png") no-repeat
    position: absolute
    left: 4px
    top: 4px
    +transition(opacity, 100ms)
  form.focused .icon
    opacity: 0.5
  .quick-search
    display: none
    position: absolute
    top: $menu-height + 1
    right: 0
    width: 210px
    background: black
    background: rgba(0, 0, 0, 0.9)
    z-index: 11
    +border-bottom-radius(2px)
    +box-shadow(rgba(0, 0, 0, 0.4) 0 1px 3px)
    padding: 5px 0
    .fix
      width: 1px
      height: 1px
      background: darken($green, 7%)
      position: absolute
      right: 0
      top: -1px
    a
      font-size: 14px
      display: block
      padding: 5px 0 5px 49px
      color: white
      text-decoration: none
      position: relative
      &:after
        position: absolute
        top: 5px
        right: 7px
    .down a:after
      content: "↓"
    .selected a:after
      content: "↲"
    .up a:after
      content: "↑"
    strong
      color: $green
      font-weight: normal
    .selected a, a:hover
      background: darken($green, 7%)
      strong
        color: white
